<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Create a shadow copy</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body>
    <h1>Create a shadow</h1>

    <keep-if truthy="target">
      <p>
        You're attempting to edit file
        <code x-content="target">&lt;no file supplied&gt;</code>
        which only exists in the core directory. You cannot edit that file
        directly. Instead, you can create and edit a copy of the file in the
        user directory which will <em>shadow</em> the core file.
      </p>

      <form action="/?create" method="POST">
        <input type="hidden" name="contentPath" x-value="target" />
        <input type="hidden" name="redirect" x-value="target + '?edit'" />
        <input
          type="hidden"
          name="content"
          x-value="render(target,{raw:'raw'}),p=>escapeHtml(p)"
        />
        <button type="submit">Create and edit shadow copy</button>
      </form>

      <p>
        <a x-href="target">Go back to the original</a>
      </p>
    </keep-if>
    <drop-if truthy="target">
      <p>This page is displayed when you attempt to edit a core file.</p>
    </drop-if>
  </body>
</html>
