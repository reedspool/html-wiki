<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Share Content Receiver</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
  </head>

  <body>
    <drop-if truthy="true">
      <p>
        This URL is a placeholder for the shared content receiver defined in the
        <a href="./../site.webmanifest">site.webmanifest</a> file. This URL will
        be hit when the
      </p>
    </drop-if>
    <h2>Create from Shared</h2>
    <p>
      The Share API specifies the <code>title</code>, <code>url</code>, and
      <code>text</code> fields; however it's not clear how consistently callers
      use these. So here are some easy links to variations of entries you might
      want to create based on the shared data.
    </p>

    <style>
      shared-create-entry {
        h3 {
          font-size: 1rem;
          margin-block-end: 0.2rem;
        }
        h4 {
          margin-block-end: 0.2rem;
          font-size: 0.6rem;
          font-family: monospace;
        }
        file-details {
          padding-inline-start: 1rem;
          padding-block-start: 0.6rem;
          padding-block-end: 0.2rem;
          display: block;
          font-family: monospace;
          font-size: 0.8rem;
          border-top-width: 1px;
          border-left-width: 1px;
          border-right-width: 0;
          border-bottom-width: 0;
          border-style: dashed;
          border-color: black;
        }
      }
    </style>
    <shared-create-entry>
      <h3>Template: From Chrome Android</h3>
      <h4>filename</h4>
      <replace-with
        file-details
        x-content="`${topLevelParameters.title}.md`"
      ></replace-with>
      <h4>fileContent</h4>
      <file-details>
        <replace-with
          span
          x-content="`# [${topLevelParameters.title}](${topLevelParameters.text})`"
        ></replace-with>
        <br />
        <br />
        <replace-with
          span
          x-escape-content='`Shared from Chrome as "${topLevelParameters.title}" from &lt;${topLevelParameters.text}&gt;`'
        ></replace-with>
      </file-details>
      <p>
        <replace-with
          a
          x-href="`/system/actions/create.html?filename=${topLevelParameters.title}.md&fileContent=%23 [${topLevelParameters.title}](${topLevelParameters.text})%0A%0AShared from Chrome as %22${topLevelParameters.title}%22 from %3C${topLevelParameters.text}%3E`"
          >Go to Create the above</replace-with
        >
      </p>
    </shared-create-entry>
    <shared-create-entry>
      <h3>Template: Trusting the API</h3>
      <h4>filename</h4>
      <replace-with
        file-details
        x-content="`${topLevelParameters.title}.md`"
      ></replace-with>
      <h4>fileContent</h4>
      <file-details>
        <replace-with
          span
          x-content="`# [${topLevelParameters.title}](${topLevelParameters.url})`"
        ></replace-with>
        <br />
        <br />
        <replace-with span x-content="topLevelParameters.text"></replace-with>
      </file-details>
      <p>
        <replace-with
          a
          x-href="`/system/actions/create.html?filename=${topLevelParameters.title}.md&fileContent=%23 [${topLevelParameters.title}](${topLevelParameters.url})%0A%0A${topLevelParameters.text}`"
          >Go to Create the above</replace-with
        >
      </p>
    </shared-create-entry>
    <h2>Raw Data</h2>

    <style>
      form[local] {
        display: flex;
        flex-direction: column;
        gap: var(--space-half);
        align-items: baseline;
        label {
          display: flex;
          flex-direction: column;
        }
      }
    </style>
    <form local method="GET" action="#">
      <label>
        <code> title </code>
        <replace-with
          input
          name="title"
          x-value="or(topLevelParameters.title,'')"
          placeholder="None supplied"
        >
        </replace-with>
      </label>
      <label>
        <code> url </code>
        <replace-with
          input
          name="url"
          x-value="or(topLevelParameters.url,'')"
          placeholder="None supplied"
        >
        </replace-with>
      </label>
      <label>
        <code> text </code>
        <replace-with
          input
          name="text"
          x-value="or(topLevelParameters.text,'')"
          placeholder="None supplied"
        >
        </replace-with>
      </label>

      <button type="submit">Update</button>
    </form>
  </body>
</html>
